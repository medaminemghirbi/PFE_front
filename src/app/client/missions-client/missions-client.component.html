
<div id="wrapper">  <app-sideebarr></app-sideebarr>
  <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

          <!-- Topbar -->

          <app-clientnavbar></app-clientnavbar>
<div class="container">
  
  <div class="card shadow mb-4">
      <div class="card-header py-3">
          <h6 class="m-0 font-weight-bold text-primary">Missions  </h6>
      </div>
      <div class="card-body">
          <div class="table-responsive" >
          <table class="table table-bordered"  width="100%" >
              <thead >
                <tr >
                  <th scope="col" (click)="sort('id')" ># ID &nbsp;<i class="fa fa-sort"> </i>  </th>
                  <th scope="col"(click)="sort('title')" >title &nbsp;<i class="fa fa-sort"> </i> </th>
                 <!-- <th scope="col"> Languages </th>  --> 
                  <th scope="col"> description </th>
                  <th scope="col"> duration </th>                 
                  <th scope="col"> beginingDate</th>   
                  <th scope="col"> category </th>                
                 <!--
                  <th scope="col"> created_at</th>
                  <th scope="col"> updated_at</th>
                  --> 
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              <tbody>         
                  <tr *ngFor="let item of dataArray  ; index as i" >
                    <th scope="row" > {{item.id}} </th>
                      <td> {{item.title}} </td>
                     <!--   <td>{{item.language.name}}</td> -->
                      <td>{{item.description}}</td>
                      <td> {{item.duration}}</td> 
                      <td> {{item.beginingDate}}</td> 
                      
                      <td > {{item.category.name}}  </td>
                     <!--
                         <td> {{item.created_at | date:'medium'}}  </td>
                      <td> {{item.updated_at | date:'medium'}}  </td>
                      --> 
                      <td>  
                          <button  class="btn btn-outline-success" (click)="details(item.id)" > Show </button> &nbsp;&nbsp;
                         
                          <button  (click)="getdata(item.title,item.description,item.id)"  class="btn btn-outline-dark" data-toggle="modal" data-target="#exampleModal"  > Update </button>&nbsp;&nbsp;
                          <button (click)="delete(item.id , i)" class="btn btn-outline-danger"> Delete </button> 
                        
                      </td>

                     
                    </tr>
              </tbody>
             
            </table>


          </div>

  </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Update </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- form update start here -->
        <form #f="ngForm" (ngSubmit)="updatemission(f)">
          <!-- firstName validation start here -->
              <div class="form-group">
          
                <label for="exampleFormControlInput1">Title</label>
                <input type="text" class="form-control" placeholder="title" [(ngModel)]="dataMission.title" required name="title" #title="ngModel" ngModel minlength="2" maxlength="20">
              </div>
              <!--  
                 <div class="alert alert-danger" *ngIf="title.touched">
                title is required
              </div>
               -->
             
           
          <!-- lastName validation end here -->
          
          <!-- lastName validation start here -->
              <div class="form-group">
                  <label for="exampleFormControlInput1">Description</label>
                  <input type="text" class="form-control" placeholder="description" [(ngModel)]="dataMission.description" required name="description" #description="ngModel" minlength="2" maxlength="20" ngModel>
                </div>
              
          <!-- lastName validation end here -->
          
           
              <div class="alert alert-success" *ngIf="messageSuccess">
                  {{messageSuccess}}
              </div>      

             <button class="btn btn-primary" >Update Mission</button>
            </form>



        <!-- form update end here -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>




          </div>
          <!-- End of Main Content -->
          
          <!-- Footer -->
          
          <!-- End of Footer -->
          
          </div>
          <!-- End of Content Wrapper -->
          
          </div>
          <!-- End of Page Wrapper -->
          
          <!-- Scroll to Top Button-->
          <a class="scroll-to-top rounded" href="#page-top">
          <i class="fas fa-angle-up"></i>
          </a>
          
          <!-- Logout Modal-->
          <div  class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                  <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">Ã—</span>
                  </button>
              </div>
              <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
              <div class="modal-footer">
                  <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                  <a class="btn btn-primary" href="/login" >Logout</a>
              </div>
          </div>
          </div>
          </div>
          
          
          